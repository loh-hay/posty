<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Posty ğŸ’Œ Random Cats</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- ğŸŒ¸ Floating Background Hearts -->
  <div class="background-heart" style="left:10%; width:50px; height:50px; animation-delay:0s;"></div>
  <div class="background-heart" style="left:70%; width:70px; height:70px; animation-delay:4s;"></div>
  <div class="background-heart" style="left:40%; width:90px; height:90px; animation-delay:8s;"></div>
  <div class="main-content">
    <h1>Purr-sonalised for you! ğŸ˜º</h1>

    <img id="catImage" src="" alt="Random Cat Meme" style="max-width:80%; border-radius:20px; box-shadow:0 3px 8px rgba(0,0,0,0.1);" />
    <p id="catFact">Loading cat fact...</p>
    <p style="margin-top:20px;">Tap below to get another cat ğŸ¾</p>
    <div class="button-group">
  <button onclick="randomCat()">More Meow!</button>
  <button id="shareBtn">Share Posty ğŸ’Œ</button>
  <button id="saveBtn">Save to Phone ğŸ“²</button>
</div>

    <button onclick="window.location.href='index.html'" 
      style="margin-top:10px; background-color:#fde7f5; color:#EF92D2; border-radius:10px; padding:10px 20px; border:none; cursor:pointer;">
      Back
    </button>

  <!-- Confetti / Hearts Container -->
  <div id="heart-container"></div>

  <script>
    const cats = [
      'curious_cat.jpg',
      'funny_cat.jpg',
      'hearts_cat.png',
      'standing_cat.jpg',
      'calico_cat.jpg',
      'confused_cat.jpg',
      'cute_kitten.jpg',
      'smile_cat.jpg',
      'kitten.jpg'
    ];

    const facts = [
      "Cats sleep for about 70% of their lives. ğŸ’¤",
      "A group of cats is called a clowder. ğŸ¾",
      "The oldest known pet cat was found in a 9,500-year-old grave. ğŸ˜º",
      "Cats have over 20 muscles that control their ears! ğŸ‘‚",
      "A catâ€™s purr can help heal bones and tissue. ğŸ’–",
      "Most cats run faster than Usain Bolt for short bursts! ğŸƒâ€â™‚ï¸ğŸˆ"
    ];

    function randomCat() {
      const randomCatFile = cats[Math.floor(Math.random() * cats.length)];
      const randomFact = facts[Math.floor(Math.random() * facts.length)];

      const img = document.getElementById('catImage');
      const factBox = document.getElementById('catFact');

      // Start fade-out
      img.classList.remove('visible');
      factBox.classList.remove('visible');

      // Preload image before showing
      const newImg = new Image();
      newImg.src = randomCatFile;

      newImg.onload = () => {
        img.src = randomCatFile;
        factBox.textContent = randomFact;

        // Fade-in
        img.classList.add('visible');
        factBox.classList.add('visible');

        // Add the heart burst
        burstHearts();
      };
    }

    function burstHearts() {
      const container = document.getElementById('heart-container');
      const heartCount = 10;

      for (let i = 0; i < heartCount; i++) {
        const heart = document.createElement('span');
        heart.classList.add('heart');
        heart.textContent = 'ğŸ’–';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.top = (50 + Math.random() * 20) + '%';
        heart.style.animationDelay = Math.random() * 0.3 + 's';
        container.appendChild(heart);
        setTimeout(() => heart.remove(), 2000);
      }
    }

    // ğŸ’Œ Share button logic
    document.addEventListener('DOMContentLoaded', () => {
      const shareBtn = document.getElementById('shareBtn');
      shareBtn.onclick = () => {
        const fact = document.getElementById('catFact').textContent;
        navigator.clipboard.writeText(`ğŸ± ${fact} â€” from Posty ğŸ’Œ`);
        alert("Copied your Posty! ğŸ’–");
      };
    });

    // Load one automatically on open
    window.onload = randomCat;
  </script>
</body>
</html>
